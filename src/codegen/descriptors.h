/* This file was autogenerated. */

#pragma once
#include "../vulkan/constants.h"

typedef struct vulkan_light_helper_element {
  alignas(16) vec3 position;
  alignas(16) vec3 color;
  alignas(4) float radius;
} vulkan_light_helper_element;

typedef struct vulkan_draw_push_constant_element {
  alignas(4) uint currentFrameInFlight;
} vulkan_draw_push_constant_element;

typedef struct vulkan_global_uniform_buffer_element {
  alignas(16) mat4 viewMat;
  alignas(16) mat4 projMat;
  vulkan_light_helper_element lights [MAX_LIGHT_COUNT];
} vulkan_global_uniform_buffer_element;

typedef struct vulkan_instances_uniform_buffer_element {
  alignas(16) mat4 modelMat;
  alignas(4) uint materialId;
} vulkan_instances_uniform_buffer_element;

typedef struct vulkan_materials_uniform_buffer_element {
  alignas(4) uint baseColorTextureId;
  alignas(16) vec4 baseColorFactor;
  alignas(4) uint metallicRoughnessTextureId;
  alignas(4) float metallicFactor;
  alignas(4) float roughnessFactor;
} vulkan_materials_uniform_buffer_element;

void glsl_add_vulkan_draw_push_constant(UT_string *s);
void glsl_add_vulkan_global_uniform_buffer(UT_string *s, uint32_t set, uint32_t binding, uint32_t count);
void glsl_add_vulkan_instances_uniform_buffer(UT_string *s, uint32_t set, uint32_t binding, uint32_t count);
void glsl_add_vulkan_materials_uniform_buffer(UT_string *s, uint32_t set, uint32_t binding, uint32_t count);
void glsl_add_vulkan_light_helper_struct(UT_string *s);

#define END_OF_VULKAN_PUSH_CONSTANTS
#define VULKAN_PUSH_CONSTANTS(X, ...) \
  X(draw, __VA_ARGS__) \
  END_OF_VULKAN_PUSH_CONSTANTS

#define END_OF_VULKAN_UNIFORM_BUFFERS
#define VULKAN_UNIFORM_BUFFERS(X, ...) \
  X(global, __VA_ARGS__) \
  X(instances, __VA_ARGS__) \
  X(materials, __VA_ARGS__) \
  END_OF_VULKAN_UNIFORM_BUFFERS

#define END_OF_VULKAN_HELPER_STRUCTS
#define VULKAN_HELPER_STRUCTS(X, ...) \
  X(light, __VA_ARGS__) \
  END_OF_VULKAN_HELPER_STRUCTS
